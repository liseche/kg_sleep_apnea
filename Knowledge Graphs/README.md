# records1
ontology = Ontology(
    labels=[
        {"AHI": "apnea hypopnea index"},
        "Disease",
        {"Disease category": "category of a disease"},
        {"Symptom": "symptom of some disease"},
        "Medical test",
        {"Test result": "result of the medical test"},
        "Medical equipment",
    ],
    relationships=[
        "Relation between any pair of Entities"
    ],
)

On 30 first lines of ICSD3_dataset.txt

Prompting:
mixtral-8x7b-32768

# records2
Ontology generated by ChatGPT 4o
with two prompts:

"""
    You are an expert at creating Knowledge Graphs. Create an appropriate ontology with labels and relationships. The labels are any labels that would be fitting for a knowledge graph about sleep apnea. The relationships are any relationship between any two labeled entities. An example of the form of ontology is the following, but you should adapt this to suit a knowledge graph about sleep apnea:
    Ontology(
        labels=[
            {"Person": "Person name without any adjectives"},
            "Place",
            "Object",
            "Document",
            "Concept",
            "Organisation",
            "Event",
            "Action",
        ],
        relationships=["Relationship between Any two labeled entities"],
    )
    The user will provide you with an input text delimited by . Extract all the entities and relationships from the user-provided text as per the given ontology. Do not use any previous knowledge about the context.Remember there can be multiple direct (explicit) or implied relationships between the same pair of nodes. Be consistent with the given ontology. Use ONLY the labels and relationships mentioned in the ontology. Format your output as a json with the following schema. 
    [
    {
        node_1: Required, an entity object with attributes: {"label": "as per the ontology", "name": "Name of the entity"},
        node_2: Required, an entity object with attributes: {"label": "as per the ontology", "name": "Name of the entity"},
        relationship: Describe the relationship between node_1 and node_2 as per the context, in a few sentences.
    },
    ]
    Do not add any other comment before or after the json. Respond ONLY with a well formed json that can be directly read by a program.

    Within the Central Sleep Apnea Syndromes, a diagnosis of treatment-emergent central sleep apnea now appears.
    This term is preferred to the widely used term complex sleep apnea because it describes a more specific and well-defined disorder in which the central apnea arises in the context of positive airway pressure treatment for obstructive sleep apnea and is not attributable to another cause.
    Central sleep apnea associated with other identi- fiable etiologies such as Cheyne-Stokes breathing or substance-induced central sleep apnea are not classified as treatment-emergent.
    Assigning a diagnosis of a sleep related hypoventilation disorder requires demonstration of elevated PaCO2 (by direct measure of arterial blood gas or, more commonly, by proxy measures such as end-tidal or trans- cutaneous CO2 determination).
    The new diagnosis of sleep related hypoxemia disor- der should be employed when there is sustained drop in SaO2 but PaCO2 has not been measured.
    Within the parasomnia section, a single set of general criteria and a unified text now describe disorders of arousal from non-rapid eye movement sleep, although additional, specific criteria and separate coding are maintained for the diagnoses within this section (i.e., confusional arousal, sleepwalking and sleep terror).
    Other, somewhat less consequential additions, deletions and reassignment of diagnoses also appear in this edition.
    International Classification of Sleep Disorders, 2nd Edition contained a separate chapter for Isolated Symptoms and Normal Variants.
    A small number of these were felt to qualify as formal diagnoses at this time and have been moved to relevant sections.
    Other symptoms and variants appear at the conclusion of the chapter to which they are most applicable (e.g., snoring to the Sleep Related Breathing Disorders, long sleeper to Central Disorders of Hypersomnolence, and movement related variants to the Sleep Related Movement Disorder section).
    Introduction Introduction A wealth of information regarding each diagnosis is contained within the separate text headings within each diagnostic section.
    The outline below details some of the spe- cific content to be found within each text heading.
    These terms are not indexed in the hard copy version of this manual because they appear throughout the document.
    Users should refer to the relevant text heading within a specific diagnosis for information related to these terms: Alternate Names Diagnostic Criteria Essential Features Associated Features Clinical and Pathophysiological Subtypes Demographics includes: • Prevalence • Gender bias • Racial / ethnic bias • Cultural issues Predisposing and Precipitating Factors includes: • Risk factors Familial Pattern includes: • Genetics • Familial clusters Onset, Course and Complications includes: • Medical • Neurological • Psychiatric / social Developmental Issues includes: • Pediatric • Geriatric Pathology and Pathophysiology Objective Findings includes: • Sleep logs • Actigraphy •
    Questionnaires • Polysomnography • Multiple sleep latency test • Neurological ◦ Electroencephalogram ◦
    Cerebrospinal fluid ◦ Neuroimaging ◦ Electromyogram ◦
    Autonomic • Endocrine • Genetic testing • Physical findings • Respiratory ◦ Arterial blood gas ◦ Pulmonary function ◦
    Ventilatory response • Cardiac ◦
    Electrocardiogram ◦ Echocardiogram ◦ Cardiac catheterization • Serum chemistry Relationship to Other Classification Systems Historically, there have been three major classifications systems for sleep disorders.
    Although the International Classification of Sleep Disorders system has, for many years, been the primary nosology for sleep medicine specialists, both the Diagnostic and Statistical Manual of Mental Disorders (DSM) of the American Psychiatric Association and the International Classification of Diseases (ICD) nosology of the World Health Organization have also classified sleep disorders.
    Unfortunately, these competing systems have differed significantly in structure and content over the years.
    Development of DSM-5 was ongoing during the development of this manual and an effort was undertaken to achieve the greatest degree of concordance possible between these two systems, recognizing that the International Classification of Sleep Disorders will inevitably contain a greater level of detail than DSM due to differences in their target users.
    This goal was largely achieved although some differences will still exist.
    The major change to the Insomnia section (i.e. establishment of a single chronic insomnia disorder diagnosis) within this new system is paralleled in DSM-5.
    Central Disorders of Hypersomnolence diagnoses are organized somewhat differently in the DSM clas- sification than in this manual and narcolepsy criteria differ slightly.
    Circadian Rhythm Sleep-Wake Disorder diagnoses are identical within the two systems with the exception that DSM does not include a jet lag disorder.
    Sleep Related Breathing Disorders are significantly more detailed within International Classification of Sleep Disorders than DSM-5, although the organizational structures in this section are quite similar.
    Sleep Related Movement Disorders and Parasomnias are likewise similar but with fewer overall diagnoses within DSM-5.
    With the publication of International Classification of Sleep Disorders, 2nd Edition, a major effort to expand and reorganize sleep related diagnoses within ICD-9-CM was undertaken.
    This effort resulted in the inclusion of many additional sleep related diag- noses in ICD-9-CM (primarily within the Diseases of the Nervous System section).
    The archaic distinction between “organic” and “non-organic” disorders has histori- cally been a guiding principle of ICD, resulting in dissemination of sleep diagnoses to both the neurological and mental disorder categories.
    Clinicians familiar with the ICD- 9-CM categories which have been employed since the most recent changes will find general concordance between the assigned diagnostic codes found herein and the most current version of ICD-9-CM.
    These ICD-9-CM codes for sleep disorders are essen- tially carried over to ICD-10-CM.
    However, certain content revisions in International Classification of Sleep Disorders, 3rd Edition (e.g., chronic insomnia) necessitates a significant departure from the coding approach utilized in ICD-9-CM and International Classification of Sleep Disorders, 2nd Edition.
    This is discussed further below.
    Introduction Introduction Coding Diagnostic codes for the relevant ICD-9-CM and ICD-10-CM diagnoses can be found at the beginning of each diagnosis section of the book.
    In the United States, the former codes (ICD-9-CM) should be employed until the implementation date for ICD-10-CM which, at the time of this writing, is to be no sooner than October 1, 2015.`
"""

and

"""
    To make a knowledge graph that could aid in diagnosis
"""

ontology = Ontology(
    labels=[
        {"Symptom": "A characteristic or manifestation of a condition (e.g., snoring, daytime fatigue)."},
        {"Condition": "A medical condition or diagnosis (e.g., Obstructive Sleep Apnea, Hypoxemia)."},
        {"RiskFactor": "Factors that increase the likelihood of a condition (e.g., obesity, age, smoking)."},
        {"Test": "Medical or diagnostic tests (e.g., polysomnography, arterial blood gas)."},
        {"Treatment": "Interventions or therapies for a condition (e.g., CPAP, surgery)."},
        {"Outcome": "Potential results of a condition or treatment (e.g., improved oxygen saturation, reduced fatigue)."},
        {"Concept": "General medical or scientific concepts (e.g., positive airway pressure)."},
        {"Document": "Guidelines, classifications, or references (e.g., ICD-10, DSM-5)."}
    ],
    relationships=[
        "has_symptom",        # Connects a Condition to a Symptom
        "is_risk_factor_for", # Connects a RiskFactor to a Condition
        "requires_test",      # Connects a Condition to a Test
        "treated_by",         # Connects a Condition to a Treatment
        "results_in",         # Connects a Condition or Treatment to an Outcome
        "relates_to",         # Generic relationship for concepts and references
    ]
)

On 149 first lines of ICSD3_dataset.txt

Prompting:
mixtral-8x7b-32768

# nodes3 + relationships3

nodes2 + same code ran on line 150-299

